# 剪映缓存清理工具 README
## 项目简介
本工具是一款针对剪映（JianyingPro）的缓存及冗余文件清理工具，支持扫描剪映默认路径下的缓存、日志、项目文件等，并提供可视化界面操作，帮助用户安全清理无效文件，释放磁盘空间。清理过程中文件会被移动到回收站（非永久删除），并自动重建空文件夹保持原目录结构。

## 功能特性
1. 多类型文件扫描 ：默认扫描剪映安装目录下的以下类型文件：
   - 缓存（Cache、ByteBench）
   - 日志（Log、VELog）
   - 项目文件（CoProduce、ArticleVideo）
   - 预设文件（Presets，清理需谨慎）
2. 自定义路径扫描 ：支持手动选择任意文件夹进行扫描。
3. 可视化操作界面 ：
   - 多列数据展示（序号、名称、大小、类型）
   - 全选/取消全选功能
   - 实时进度条与状态提示
   - 彩色日志输出（区分INFO/SUCCESS/WARNING/ERROR级别）
4. 安全清理机制 ：
   - 文件移动至回收站而非直接删除
   - 自动重建主文件夹及子文件夹结构（保留原目录层级）
   - 清理前检查磁盘空间（避免因空间不足导致失败）
   - 预设文件清理前二次确认（防止自定义模板丢失）
5. 清理历史记录 ：记录每次清理的时间、项目、状态及详情（存储于 %LOCALAPPDATA%\JianyingCleaner\cleanup_history.log ）
## 安装与依赖
### 环境要求
- Python 3.7+（Windows系统）
- 依赖库： send2trash , tkinter , ttkthemes , scrolledtext
### 安装命令
```
pip install send2trash ttkthemes
```
## 使用指南
### 启动工具
直接运行 jianying_cleaner_gui.py （需确保与 jianying_scanner.py 在同一目录）。

### 操作步骤
1. 扫描文件 ：
   - 默认扫描：直接点击「扫描缓存」按钮，扫描剪映默认路径（ %LOCALAPPDATA%\JianyingPro\User Data ）。
   - 自定义扫描：点击「浏览...」选择目标文件夹，输入框确认路径后点击「扫描缓存」。
2. 选择清理项 ：
   - 扫描完成后，列表会显示所有检测到的文件/文件夹（含大小、类型）。
   - 手动勾选或通过「全选/取消」按钮批量选择。
3. 执行清理 ：
   - 点击「清理选中项」，工具会：
     - 检查磁盘空间（不足时提示）
     - 对预设文件二次确认
     - 最终确认清理内容（总大小）
   - 清理过程中进度条实时更新，日志显示详细操作状态。
4. 查看历史 ：点击「查看清理历史」按钮可查看所有清理记录。
## 注意事项
- 预设文件 ：清理「我的预设」可能导致剪映中自定义模板、特效丢失，建议谨慎操作。
- 权限问题 ：若文件被其他程序占用（如剪映未关闭）或无权限访问，清理会失败并在日志中提示。
- 磁盘空间 ：回收站需要足够空间存储待清理文件，空间不足时会提前警告。
- 日志位置 ：清理历史日志存储在 %LOCALAPPDATA%\JianyingCleaner\cleanup_history.log （若无法创建该目录则存储于工具同目录）。
## 项目结构
```
d:\ypfg\
├── jianying_scanner.py    # 核心扫描/清理逻辑
（计算大小、路径扫描、清理到回收站等）
├── jianying_cleaner_gui.py # GUI界面
（Tkinter实现，包含按钮、列表、日志等组件）
└── __pycache__\           # Python缓存目录
（自动生成）
```
## 贡献与反馈
如有功能建议或Bug反馈，请通过issue提交。
